{"ast":null,"code":"import _slicedToArray from\"/Users/noahcorona/Development/web/react-js-api-example/api-example/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import Results from\"./components/Results\";import{useEffect,useState}from\"react\";import'bootstrap/dist/css/bootstrap.css';import SearchBar from\"./components/SearchBar\";import axios from\"axios\";import{Button,ButtonGroup,ToggleButton}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),searchResponse=_useState6[0],setSearchResponse=_useState6[1];var _useState7=useState('1'),_useState8=_slicedToArray(_useState7,2),galleryMode=_useState8[0],setGalleryMode=_useState8[1];var apiUrl='https://api.artic.edu/api/v1/artworks/search';useEffect(function(){window.scrollTo(0,0);axios.get(apiUrl,{method:'get',responseType:'json',params:{q:searchText,page:page,fields:'id,title,description,image_id'}}).then(function(response){if(response.status===200){console.log('JSON response:',response);setSearchResponse(response.data);}else{console.log('The response was an error:',response);}});},[searchText,page]);var radios=[{name:'Gallery View',value:'1'},{name:'Reading View',value:'2'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Art Institute of Chicago Search\"}),/*#__PURE__*/_jsx(ButtonGroup,{children:radios.map(function(radio,idx){return/*#__PURE__*/_jsx(ToggleButton,{id:\"radio-\".concat(idx),type:\"radio\",variant:\"outline-light\",name:\"radio\",value:radio.value,checked:galleryMode===radio.value,onChange:function onChange(e){return setGalleryMode(e.currentTarget.value);},children:radio.name},idx);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Body\",children:[/*#__PURE__*/_jsx(SearchBar,{setActiveSearch:setSearchText,setActivePage:setPage}),searchText&&/*#__PURE__*/_jsx(Results,{galleryMode:galleryMode,activeSearch:searchText,page:page,setPage:setPage,data:searchResponse})]})]});}export default App;","map":{"version":3,"names":["Results","useEffect","useState","SearchBar","axios","Button","ButtonGroup","ToggleButton","App","searchText","setSearchText","page","setPage","searchResponse","setSearchResponse","galleryMode","setGalleryMode","apiUrl","window","scrollTo","get","method","responseType","params","q","fields","then","response","status","console","log","data","radios","name","value","map","radio","idx","e","currentTarget"],"sources":["/Users/noahcorona/Development/web/react-js-api-example/api-example/src/App.js"],"sourcesContent":["import './App.css';\nimport Results from \"./components/Results\";\nimport {useEffect, useState} from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport SearchBar from \"./components/SearchBar\";\nimport axios from \"axios\";\nimport {Button, ButtonGroup, ToggleButton} from \"react-bootstrap\";\n\nfunction App() {\n    const [searchText, setSearchText] = useState('');\n    const [page, setPage] = useState(1);\n    const [searchResponse, setSearchResponse] = useState();\n    const [galleryMode, setGalleryMode] = useState('1');\n\n    const apiUrl = 'https://api.artic.edu/api/v1/artworks/search';\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n\n        axios.get(apiUrl, {\n            method: 'get',\n            responseType: 'json',\n            params: {\n                q: searchText,\n                page: page,\n                fields: 'id,title,description,image_id',\n            }\n        }).then(response => {\n                if(response.status === 200) {\n                    console.log('JSON response:', response)\n                    setSearchResponse(response.data);\n                } else {\n                    console.log('The response was an error:', response)\n                }\n            }\n        )\n    }, [searchText, page])\n\n    const radios = [\n        { name: 'Gallery View', value: '1' },\n        { name: 'Reading View', value: '2' },\n    ];\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>Art Institute of Chicago Search</h1>\n                <ButtonGroup>\n                    {radios.map((radio, idx) => (\n                        <ToggleButton\n                            key={idx}\n                            id={`radio-${idx}`}\n                            type=\"radio\"\n                            variant=\"outline-light\"\n                            name=\"radio\"\n                            value={radio.value}\n                            checked={galleryMode === radio.value}\n                            onChange={(e) => setGalleryMode(e.currentTarget.value)}\n                        >\n                            {radio.name}\n                        </ToggleButton>\n                    ))}\n                </ButtonGroup>\n            </header>\n            <div className=\"Body\">\n                <SearchBar setActiveSearch={setSearchText}\n                           setActivePage={setPage} />\n                {\n                    searchText && <Results galleryMode={galleryMode}\n                                           activeSearch={searchText}\n                                           page={page}\n                                           setPage={setPage}\n                                           data={searchResponse} />\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"wJAAA,MAAO,WAAP,CACA,MAAOA,QAAP,KAAoB,sBAApB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAO,kCAAP,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,CAAgBC,WAAhB,CAA6BC,YAA7B,KAAgD,iBAAhD,C,wFAEA,QAASC,IAAT,EAAe,CACX,cAAoCN,QAAQ,CAAC,EAAD,CAA5C,wCAAOO,UAAP,eAAmBC,aAAnB,eACA,eAAwBR,QAAQ,CAAC,CAAD,CAAhC,yCAAOS,IAAP,eAAaC,OAAb,eACA,eAA4CV,QAAQ,EAApD,yCAAOW,cAAP,eAAuBC,iBAAvB,eACA,eAAsCZ,QAAQ,CAAC,GAAD,CAA9C,yCAAOa,WAAP,eAAoBC,cAApB,eAEA,GAAMC,OAAM,CAAG,8CAAf,CAEAhB,SAAS,CAAC,UAAM,CACZiB,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EAEAf,KAAK,CAACgB,GAAN,CAAUH,MAAV,CAAkB,CACdI,MAAM,CAAE,KADM,CAEdC,YAAY,CAAE,MAFA,CAGdC,MAAM,CAAE,CACJC,CAAC,CAAEf,UADC,CAEJE,IAAI,CAAEA,IAFF,CAGJc,MAAM,CAAE,+BAHJ,CAHM,CAAlB,EAQGC,IARH,CAQQ,SAAAC,QAAQ,CAAI,CACZ,GAAGA,QAAQ,CAACC,MAAT,GAAoB,GAAvB,CAA4B,CACxBC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BH,QAA9B,EACAb,iBAAiB,CAACa,QAAQ,CAACI,IAAV,CAAjB,CACH,CAHD,IAGO,CACHF,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CH,QAA1C,EACH,CACJ,CAfL,EAiBH,CApBQ,CAoBN,CAAClB,UAAD,CAAaE,IAAb,CApBM,CAAT,CAsBA,GAAMqB,OAAM,CAAG,CACX,CAAEC,IAAI,CAAE,cAAR,CAAwBC,KAAK,CAAE,GAA/B,CADW,CAEX,CAAED,IAAI,CAAE,cAAR,CAAwBC,KAAK,CAAE,GAA/B,CAFW,CAAf,CAKA,mBACI,aAAK,SAAS,CAAC,KAAf,wBACI,gBAAQ,SAAS,CAAC,YAAlB,wBACI,uDADJ,cAEI,KAAC,WAAD,WACKF,MAAM,CAACG,GAAP,CAAW,SAACC,KAAD,CAAQC,GAAR,qBACR,KAAC,YAAD,EAEI,EAAE,iBAAWA,GAAX,CAFN,CAGI,IAAI,CAAC,OAHT,CAII,OAAO,CAAC,eAJZ,CAKI,IAAI,CAAC,OALT,CAMI,KAAK,CAAED,KAAK,CAACF,KANjB,CAOI,OAAO,CAAEnB,WAAW,GAAKqB,KAAK,CAACF,KAPnC,CAQI,QAAQ,CAAE,kBAACI,CAAD,QAAOtB,eAAc,CAACsB,CAAC,CAACC,aAAF,CAAgBL,KAAjB,CAArB,EARd,UAUKE,KAAK,CAACH,IAVX,EACSI,GADT,CADQ,EAAX,CADL,EAFJ,GADJ,cAoBI,aAAK,SAAS,CAAC,MAAf,wBACI,KAAC,SAAD,EAAW,eAAe,CAAE3B,aAA5B,CACW,aAAa,CAAEE,OAD1B,EADJ,CAIQH,UAAU,eAAI,KAAC,OAAD,EAAS,WAAW,CAAEM,WAAtB,CACS,YAAY,CAAEN,UADvB,CAES,IAAI,CAAEE,IAFf,CAGS,OAAO,CAAEC,OAHlB,CAIS,IAAI,CAAEC,cAJf,EAJtB,GApBJ,GADJ,CAkCH,CAED,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}